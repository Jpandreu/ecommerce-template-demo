/* Safari Mobile Fixes - Critical for proper functionality *//* Safari Mobile Fixes - Critical for proper functionality */



/* Critical Safari mobile fixes *//* Critical Safari mobile fixes */

html {html {

    -webkit-text-size-adjust: none;    -webkit-text-size-adjust: none;

    -ms-text-size-adjust: none;    -ms-text-size-adjust: none;

    text-size-adjust: none;    text-size-adjust: none;

    height: -webkit-fill-available;    height: -webkit-fill-available;

}}



body {body {

    -webkit-overflow-scrolling: touch;    -webkit-overflow-scrolling: touch;

    -webkit-transform: translate3d(0,0,0);    -webkit-transform: translate3d(0,0,0);

    transform: translate3d(0,0,0);    transform: translate3d(0,0,0);

    min-height: -webkit-fill-available;    min-height: -webkit-fill-available;

    overflow-x: hidden;    overflow-x: hidden;

}}



/* Force hardware acceleration with better compatibility *//* Force hardware acceleration with better compatibility */

* {* {

    -webkit-transform: translate3d(0,0,0);    -webkit-transform: translate3d(0,0,0);

    transform: translate3d(0,0,0);    transform: translate3d(0,0,0);

    -webkit-backface-visibility: hidden;    -webkit-backface-visibility: hidden;

    backface-visibility: hidden;    backface-visibility: hidden;

}}



/* Fix viewport height issues in Safari mobile *//* Fix viewport height issues in Safari mobile */

:root {:root {

    --vh: 1vh;    --vh: 1vh;

    --real-vh: calc(var(--vh, 1vh) * 100);    --real-vh: calc(var(--vh, 1vh) * 100);

}}



/* Mobile Safari specific fixes *//* Mobile Safari specific fixes */

@supports (-webkit-touch-callout: none) {@supports (-webkit-touch-callout: none) {

    /* Safari-only styles */    /* Safari-only styles */

        

    /* Fix for viewport height */    /* Fix for viewport height */

    .hero {    .hero {

        min-height: 100vh;        min-height: 100vh;

        min-height: var(--real-vh);        min-height: var(--real-vh);

        min-height: -webkit-fill-available;        min-height: -webkit-fill-available;

    }    }

        

    /* Fix sticky header */    /* Fix sticky header */

    .header {    .header {

        position: -webkit-sticky;        position: -webkit-sticky;

        position: sticky;        position: sticky;

        -webkit-transform: translateZ(0);        -webkit-transform: translateZ(0);

        transform: translateZ(0);        transform: translateZ(0);

    }    }

    

    /* Safari mobile input fixes */    /* Fix header for Safari mobile - CRITICAL */

    input, textarea, select {    .header {

        -webkit-appearance: none;        position: relative !important;

        border-radius: 0;        width: 100% !important;

        font-size: 16px; /* Prevents zoom on focus */        -webkit-transform: translate3d(0,0,0) !important;

    }        transform: translate3d(0,0,0) !important;

        -webkit-backface-visibility: hidden !important;

    /* Fix for Safari mobile button styling */        backface-visibility: hidden !important;

    button {        z-index: 997 !important;

        -webkit-appearance: none;        box-sizing: border-box !important;

        border-radius: 0;    }

    }    

    /* Banner positioning for Safari mobile */

    /* Safari mobile smooth scrolling */    .demo-banner {

    html {        position: fixed !important;

        scroll-behavior: smooth;        top: 0 !important;

        -webkit-scroll-behavior: smooth;        left: 0 !important;

    }        right: 0 !important;

        width: 100% !important;

    /* Fix Safari mobile flexbox issues */        z-index: 998 !important;

    .flex-container {        -webkit-transform: translate3d(0,0,0) !important;

        display: -webkit-flex;        transform: translate3d(0,0,0) !important;

        display: flex;        -webkit-backface-visibility: hidden !important;

    }        backface-visibility: hidden !important;

        box-sizing: border-box !important;

    /* Safari mobile transform fixes */    }

    .transform-element {    

        -webkit-transform: translateZ(0);    /* Navbar container fixes */

        transform: translateZ(0);    .navbar {

    }        -webkit-transform: translate3d(0,0,0) !important;

}        transform: translate3d(0,0,0) !important;
        width: 100% !important;
        position: relative !important;
    }
    
    .header-content {
        display: -webkit-box !important;
        display: -webkit-flex !important;
        display: flex !important;
        -webkit-box-align: center !important;
        -webkit-align-items: center !important;
        align-items: center !important;
        -webkit-box-pack: justify !important;
        -webkit-justify-content: space-between !important;
        justify-content: space-between !important;
        width: 100% !important;
        padding: 0.75rem !important;
        box-sizing: border-box !important;
    }

    /* Fix mobile menu button - NAVBAR TOGGLER */
    .navbar-toggler, .mobile-menu-btn {
        -webkit-appearance: none !important;
        appearance: none !important;
        -webkit-tap-highlight-color: transparent !important;
        -webkit-touch-callout: none !important;
        -webkit-user-select: none !important;
        user-select: none !important;
        padding: 8px 10px !important;
        border: 1px solid rgba(255,255,255,0.2) !important;
        background: transparent !important;
        cursor: pointer !important;
        z-index: 999 !important;
        position: relative !important;
        min-width: 44px !important;
        min-height: 44px !important;
        touch-action: manipulation !important;
        -webkit-transform: translate3d(0,0,0) !important;
        transform: translate3d(0,0,0) !important;
        will-change: transform !important;
        display: -webkit-box !important;
        display: -webkit-flex !important;
        display: flex !important;
        -webkit-box-orient: vertical !important;
        -webkit-box-direction: normal !important;
        -webkit-flex-direction: column !important;
        flex-direction: column !important;
        -webkit-box-pack: center !important;
        -webkit-justify-content: center !important;
        justify-content: center !important;
        -webkit-box-align: center !important;
        -webkit-align-items: center !important;
        align-items: center !important;
    }
    
    .navbar-toggler:focus, .mobile-menu-btn:focus {
        outline: none !important;
        box-shadow: none !important;
    }
    
    /* Safari mobile hamburger lines */
    .mobile-menu-btn span {
        display: block !important;
        width: 25px !important;
        height: 3px !important;
        background-color: #333 !important;
        margin: 5px 0 !important;
        transition: 0.3s ease !important;
        -webkit-transform: translateZ(0);
        transform: translateZ(0);
    }
    
    /* Active state animations */
    .mobile-menu-btn.active span:nth-child(1) {
        -webkit-transform: rotate(45deg) translate(5px, 5px) !important;
        transform: rotate(45deg) translate(5px, 5px) !important;
    }
    
    .mobile-menu-btn.active span:nth-child(2) {
        opacity: 0 !important;
    }
    
    .mobile-menu-btn.active span:nth-child(3) {
        -webkit-transform: rotate(-45deg) translate(7px, -6px) !important;
        transform: rotate(-45deg) translate(7px, -6px) !important;
    }
    
    /* Ensure menu button is clickable */
    .mobile-menu-btn:active {
        background-color: rgba(0, 0, 0, 0.1);
        -webkit-transform: scale(0.95);
        transform: scale(0.95);
    }
    
    /* Fix mobile navigation collapse - Bootstrap navbar */
    .navbar-collapse {
        -webkit-transform: translate3d(0,0,0) !important;
        transform: translate3d(0,0,0) !important;
        -webkit-overflow-scrolling: touch !important;
        width: 100% !important;
        position: absolute !important;
        top: 100% !important;
        left: 0 !important;
        right: 0 !important;
        background: white !important;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1) !important;
        z-index: 996 !important;
        border-radius: 0 0 8px 8px !important;
    }
    
    /* Fix mobile navigation - CRITICAL for Safari iOS */
    .nav.mobile-open, .navbar-collapse.show {
        position: absolute !important;
        top: 100% !important;
        left: 0 !important;
        right: 0 !important;
        width: 100% !important;
        background: rgba(255, 255, 255, 0.98) !important;
        -webkit-backdrop-filter: blur(20px) !important;
        backdrop-filter: blur(20px) !important;
        z-index: 996 !important;
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch !important;
        padding: 10px 0 !important;
        display: block !important;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1) !important;
        border-radius: 0 0 8px 8px !important;
        align-items: center !important;
        -webkit-box-pack: center !important;
        -webkit-justify-content: center !important;
        justify-content: center !important;
        -webkit-transform: translateZ(0) !important;
        transform: translateZ(0) !important;
    }
    
    /* Fix mobile navigation links */
    .navbar-nav {
        width: 100% !important;
        padding: 10px 0 !important;
    }

    .navbar-nav .nav-link {
        -webkit-tap-highlight-color: rgba(0,0,0,0.1) !important;
        -webkit-touch-callout: none !important;
        color: #333 !important;
        padding: 12px 20px !important;
        display: block !important;
        width: 100% !important;
        text-align: left !important;
        border-bottom: 1px solid #f0f0f0 !important;
    }
    
    /* Fix mobile menu items fallback */
    .nav.mobile-open .nav-link {
        display: block !important;
        width: 100% !important;
        text-align: center !important;
        padding: 1.5rem !important;
        font-size: 1.2rem !important;
        border-bottom: 1px solid rgba(0, 0, 0, 0.1) !important;
        -webkit-tap-highlight-color: transparent !important;
    }
    
    /* Fix button interactions - CRITICAL for Safari mobile */
    .btn {
        -webkit-tap-highlight-color: transparent;
        -webkit-touch-callout: none;
        cursor: pointer;
        touch-action: manipulation;
        min-width: 44px !important;
        min-height: 44px !important;
        position: relative;
        z-index: 1;
        -webkit-transform: translateZ(0);
        transform: translateZ(0);
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
    }

    .btn:active {
        transform: scale(0.98);
        -webkit-transform: scale(0.98);
    }
    
    /* Fix for add to cart buttons specifically */
    .btn.btn-primary {
        pointer-events: auto !important;
        -webkit-user-select: none;
        user-select: none;
    }
    
    /* Ensure product cards are touchable */
    .product-card {
        pointer-events: auto !important;
        -webkit-transform: translateZ(0);
        transform: translateZ(0);
    }
    
    /* Fix modal and overlay interactions */
    .modal, .product-overlay {
        -webkit-transform: translateZ(0);
        transform: translateZ(0);
        pointer-events: auto !important;
    }
    
    .product-overlay .btn {
        z-index: 10 !important;
    }    /* Fix form elements */
    input, select, textarea {
        -webkit-appearance: none;
        appearance: none;
        -webkit-border-radius: 0;
        border-radius: 0.5rem;
        font-size: 16px; /* Prevents zoom on focus */
    }
    
    /* Fix scroll behavior */
    body {
        -webkit-overflow-scrolling: touch;
        overflow-x: hidden;
    }
    
    /* Fix for sticky elements */
    .sticky {
        position: -webkit-sticky;
        position: sticky;
    }
    
    /* Prevent rubber band scrolling */
    body {
        overscroll-behavior-y: none;
    }
}

/* Critical hero fixes for mobile */
@media screen and (max-width: 768px) {
    .hero {
        min-height: 100vh !important;
        min-height: calc(var(--vh, 1vh) * 100) !important;
        padding-top: 80px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
    }
    
    .hero-content {
        padding: 2rem 1rem !important;
        width: 100% !important;
        max-width: 90% !important;
        text-align: center !important;
    }
    
    .hero-title {
        font-size: 2rem !important;
        line-height: 1.2 !important;
        margin-bottom: 1rem !important;
    }
    
    .hero-actions {
        display: flex !important;
        flex-direction: column !important;
        gap: 1rem !important;
        align-items: center !important;
        width: 100% !important;
    }
    
    .hero-actions .btn {
        width: 100% !important;
        max-width: 280px !important;
        padding: 1rem 2rem !important;
        font-size: 1rem !important;
    }
}

/* Additional Safari mobile fixes */
@media screen and (max-width: 767px) and (-webkit-min-device-pixel-ratio: 1) {
    
    /* Ensure proper touch targets */
    .mobile-menu-btn {
        min-width: 48px !important;
        min-height: 48px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        padding: 0.75rem !important;
    }
    
    /* Fix hamburger icon visibility */
    .hamburger {
        width: 24px !important;
        height: 24px !important;
        position: relative !important;
        display: block !important;
    }
    
    .hamburger span {
        display: block !important;
        height: 3px !important;
        width: 100% !important;
        background: currentColor !important;
        margin: 3px 0 !important;
        transition: 0.3s !important;
    }
    
    /* Ensure images load properly */
    img {
        -webkit-transform: translateZ(0);
        transform: translateZ(0);
        image-rendering: -webkit-optimize-contrast;
    }
    
    /* Fix for product cards */
    .product-card,
    .service-card {
        -webkit-transform: translateZ(0);
        transform: translateZ(0);
        will-change: transform;
    }
    
    /* Fix animations */
    @media (prefers-reduced-motion: no-preference) {
        * {
            -webkit-animation-fill-mode: both;
            animation-fill-mode: both;
        }
    }
}

/* Critical fix for iPhone X and newer */
@supports (padding: max(0px)) {
    .header {
        padding-left: max(1rem, env(safe-area-inset-left));
        padding-right: max(1rem, env(safe-area-inset-right));
    }
    
    .nav.mobile-open {
        padding-left: env(safe-area-inset-left);
        padding-right: env(safe-area-inset-right);
        padding-bottom: env(safe-area-inset-bottom);
    }
}

/* Additional iOS Safari fixes */
@media screen and (-webkit-min-device-pixel-ratio: 2) {
    /* High DPI displays (Retina) */
    .mobile-menu-btn {
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
        -webkit-perspective: 1000px;
        perspective: 1000px;
    }
    
    /* Fix for navigation links */
    .nav-link {
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
    }
    
    /* Improve button performance */
    .btn, .mobile-menu-btn {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
        -webkit-font-smoothing: antialiased;
    }
}

/* Debug helper for Safari mobile (remove in production) */
@media screen and (max-width: 767px) {
    .safari-debug {
        position: fixed;
        top: 0;
        left: 0;
        background: rgba(255, 0, 0, 0.8);
        color: white;
        padding: 5px;
        font-size: 12px;
        z-index: 10000;
        pointer-events: none;
        display: none; /* Enable with display: block for debugging */
    }
}